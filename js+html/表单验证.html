<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
<form action="" method="post" onsubmit="return eg.regCheck();">
  <input type="hidden" name="" id="errNum" value="0"/>
  账户: <input type="text" name="" id="userid"/><br/><br/>
  密码:<input type="password" name="" id="password1" /><br/><br/>
  确认:<input type="password" name="" id="password2"/><br/><br/>
  简介：<textarea name="" id="about" cols="4" rows="18"></textarea>
  <input type="submit" value="注册" id="regBtn"/>
  <input type="button" value="解锁" onclick="eg.unlock()" style="display:none;"  id="regUnlock"/>
  <script>
    var eg={};
    eg.$=function(id){
      return document.getElementById(id);
    }

   eg.regCheck=function(){
     var uid=eg.$("userid");
     var pwd1=eg.$("password1");
     var pwd2=eg.$("password2");
     var txtArea=eg.$("about");
     if(uid.value==""){
       alert("用户名不能为空!");
       eg.err();
       return false;
     }
     if(pwd1.value==""){
       alert("密码不能为空！");
       eg.err();
       return false;
     }
     if(pwd1.value!=pwd2.value){
       alert("两次密码不一样！");
       eg.err();
       return false
     }
     if(txtArea.value.length>60){
       alert("简介太长！");
       eg.arr();
       return false;
     }
     return true;
   };
    eg.err=function(){
      var errNum=eg.$("errNum");
      var old=errNum.value;
      errNum.value=parseInt(old)+1;
      eg.lock();
    };
    eg.lock=function(){
      var err=eg.$("errNum").value;
      console.log(err);
      if(parseInt(err)>2){
          eg.$("regBtn").disabled=true;
        eg.$("regUnlock").style.display=block;
      }
    };
    eg.unlock=function(){
      eg.$("regBtn").disabled=false;
      eg.$("regUnlock").style.display=none;
    };
  </script>
</form>
</body>
</html>